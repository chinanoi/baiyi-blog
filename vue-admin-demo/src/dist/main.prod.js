"use strict";var _vue=_interopRequireDefault(require("vue")),_App=_interopRequireDefault(require("./App.vue")),_router=_interopRequireDefault(require("./router")),_elementUi=_interopRequireDefault(require("element-ui"));require("@/components/common/directives"),require("babel-polyfill"),require("@/utils/global"),require("@/assets/css/main.css"),require("@/assets/css/btn.css"),require("@/assets/css/table.css"),require("@/assets/css/search.css"),require("@/assets/css/common.css"),require("@/assets/css/twoDialog.css"),require("@/assets/css/oneDialog.css"),require("element-ui/lib/theme-chalk/index.css"),require("@/assets/css/icon.css");var _dynamicRouter=_interopRequireDefault(require("@/dynamicRouter.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}_vue.default.config.productionTip=!1,_vue.default.use(_elementUi.default,{size:"small"}),_vue.default.prototype.defaultTheme="light_blue",_vue.default.prototype.dynamicRouter=_dynamicRouter.default;var userRole=sessionStorage.getItem("ms_username");if(userRole){var routerJson=JSON.parse(window.sessionStorage.router),getRouterTemp=_dynamicRouter.default.filterAsyncRouter(routerJson);_router.default.addRoutes(getRouterTemp),global.antRouter=getRouterTemp[1].children}_router.default.beforeEach(function(e,r,t){var s=sessionStorage.getItem("ms_username");sessionStorage.setItem("path_open",e.path),s||"/login"===e.path?t():t("/login")}),window.addEventListener("storage",function(e){sessionStorage.setItem(e.key,e.oldValue)}),new _vue.default({router:_router.default,render:function(e){return e(_App.default)}}).$mount("#app");